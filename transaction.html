<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
   <!-- Fluid viewport -->
<link
rel="stylesheet"
href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.classless.min.css"
>
</head>
<body>
    <header>
        <nav>
          <ul>
            <li><hgroup>
              <h1>üí∞ Bajet</h1>
              <p>Never run out of money!</p>
            </hgroup></li>
          </ul>
          <ul>
           <li><button class="secondary">Hi Faris !</button></li>
          </ul>
        </nav>
  </header>
    <main>

         <section class="add-expense">
            <form id="add-expense-form">
                <label for="expense-name">What ?</label>
                <input type="text" id="expense-name" name="expense-name" required autofocus onfocus="this.setSelectionRange(this.value.length, this.value.length);">
                <!-- <label for="expense-amount">Whe ?</label> -->
                <div style="display: flex; justify-content: space-between;">
                    <fieldset id="expense-category" style="flex: 1; margin-right: 10px;">
                        <legend>Expense:</legend>
                        <label for="radio-1">
                            <input type="radio" id="radio-1" name="radio" value="food" checked />
                            üçΩÔ∏è Food
                        </label>
                        <label for="radio-2">
                            <input type="radio" id="radio-2" name="radio" value="transport" />
                            üöó Transport
                        </label>
                        <label for="radio-3">
                            <input type="radio" id="radio-3" name="radio" value="entertainment" />
                            üé¨ Entertainment
                        </label>
                        <label for="radio-4">
                            <input type="radio" id="radio-4" name="radio" value="utilities" />
                            üí° Utilities
                        </label>
                        <label for="radio-6">
                            <input type="radio" id="radio-6" name="radio" value="health" />
                            üè• Other
                        </label>
                    </fieldset>
                    <fieldset id="income-category" style="flex: 1; margin-left: 10px;">
                        <legend>Income:</legend>
                        <label for="radio-7">
                            <input type="radio" id="radio-7" name="radio" value="salary" />
                            üíº Salary
                        </label>
                        <label for="radio-8">
                            <input type="radio" id="radio-8" name="radio" value="business" />
                            üìà Business
                        </label>
                        <label for="radio-9">
                            <input type="radio" id="radio-9" name="radio" value="investment" />
                            üìä Investment
                        </label>
                        <label for="radio-10">
                            <input type="radio" id="radio-10" name="radio" value="gift" />
                            üéÅ Gift
                        </label>
                        <label for="radio-11">
                            <input type="radio" id="radio-11" name="radio" value="other" />
                            üè• Other
                        </label>
                    </fieldset>
                </div>
                <label for="expense-amount">How Much ?</label>
                <!-- Include Cleave.js library -->
                <script src="https://cdn.jsdelivr.net/npm/cleave.js@1.6.0/dist/cleave.min.js"></script>

                <!-- Input field for amount with Indonesian Rupiah formatting -->
                <input type="text" id="expense-amount" name="expense-amount" required>

                <script>
                    document.addEventListener('DOMContentLoaded', (event) => {
                        new Cleave('#expense-amount', {
                            numeral: true,
                            numeralThousandsGroupStyle: 'thousand',
                            numeralDecimalMark: ',',
                            delimiter: '.',
                            prefix: 'Rp ',
                            rawValueTrimPrefix: true
                        });
                    });
                </script>
                
                <label for="expense-date">When ?</label>
                <input type="datetime-local" id="expense-date" name="expense-date" required>
                <script>
                    document.addEventListener('DOMContentLoaded', (event) => {
                        const expenseDateInput = document.getElementById('expense-date');
                        const now = new Date();
                        const offset = now.getTimezoneOffset() * 60000;
                        const localISOTime = new Date(now - offset).toISOString().slice(0, 16);
                        expenseDateInput.value = localISOTime;
                    });
                </script>
                  
                <!-- <input type="text" id="expense-category" name="expense-category" required> -->
                <!-- <select id="expense-category" name="favorite-cuisine" aria-label="Select your favorite cuisine..." required>
                    <option selected disabled value="">
                      Select your favorite cuisine...
                    </option>
                    <option>Italian</option>
                    <option>Japanese</option>
                    <option>Indian</option>
                    <option>Thai</option>
                    <option>French</option>
                  </select> -->


                  <label for="trx-type">Submit !</label>
                  <!-- <div id="expense-category" role="group">
                      <button>Button</button>
                      <button>Button</button>
                  
                    </div> -->
                    
                
                
               
 <!-- <div id="trx-type" role="group">
    <button type="submit" >As Expense</button>
    <button type="submit">As Income</button>

  </div> -->
                <button type="submit" id="submit-button" disabled>Add Expense</button>

                <script>
                    document.addEventListener('DOMContentLoaded', (event) => {
                        const submitButton = document.getElementById('submit-button');
                        const expenseNameInput = document.getElementById('expense-name');
                        const expenseAmountInput = document.getElementById('expense-amount');
                        const expenseDateInput = document.getElementById('expense-date');

                        const validateForm = () => {
                            const expenseName = expenseNameInput.value.trim();
                            const expenseAmount = parseFloat(expenseAmountInput.value.replace(/[^0-9.-]+/g,""));
                            const expenseDate = new Date(expenseDateInput.value);

                            if (expenseName && expenseAmount > 0 && !isNaN(expenseDate.getTime())) {
                                submitButton.disabled = false;
                            } else {
                                submitButton.disabled = true;
                            }
                        };

                        expenseNameInput.addEventListener('input', validateForm);
                        expenseAmountInput.addEventListener('input', validateForm);
                        expenseDateInput.addEventListener('input', validateForm);

                        validateForm(); // Initial validation
                    });
                </script>
                <script>
                    document.addEventListener('DOMContentLoaded', (event) => {
                        const submitButton = document.getElementById('submit-button');
                        const expenseCategoryFieldset = document.getElementById('expense-category');
                        const incomeCategoryFieldset = document.getElementById('income-category');
                        
                        const updateButtonLabel = () => {
                            const selectedExpense = expenseCategoryFieldset.querySelector('input[name="radio"]:checked');
                            const selectedIncome = incomeCategoryFieldset.querySelector('input[name="radio"]:checked');
                            
                            if (selectedIncome) {
                                submitButton.textContent = 'Add Income';
                            } else if (selectedExpense) {
                                submitButton.textContent = 'Add Expense';
                            }
                        };

                        expenseCategoryFieldset.addEventListener('change', updateButtonLabel);
                        incomeCategoryFieldset.addEventListener('change', updateButtonLabel);
                    });
                </script>
            </form>
        </section>
    </main>
    <footer>
        <p>&copy; 2024 Bajet</p>
    </footer>
</body>
</html>